import{s as P,j as f,z as C,c as p,o as a,w as i,b as e,a as y,d as u,l as c,f as g,t as o,n as b,i as x,g as n,F as k,r as T}from"./app-yIWklYjY.js";import D from"./StageProgress-B9RqLY2F.js";import z from"./StageSummary-DHGqIla6.js";import{_ as V}from"./AuthenticatedLayout-Chb_zu02.js";import"./ApplicationLogo-6M8EDCB_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6"},A={class:"flex items-center space-x-2 text-sm text-gray-500"},B={class:"text-gray-900 font-medium"},S={class:"bg-white rounded-lg border p-6"},U={class:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4"},E={class:"flex-1"},F={class:"flex items-center gap-3 mb-2"},L={class:"text-2xl font-bold text-gray-900"},M={class:"text-gray-600"},O={class:"flex flex-col sm:flex-row gap-3"},I={class:"border-b border-gray-200"},q={class:"flex space-x-8"},G={key:0},H={key:1,class:"space-y-6"},J={class:"bg-white rounded-lg border p-6"},K={class:"text-lg font-semibold text-gray-900 mb-4"},Q={key:0,class:"space-y-4"},R={class:"flex justify-between items-start mb-2"},W={class:"font-semibold text-gray-900"},X={class:"flex gap-2"},Y={class:"px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800 capitalize"},Z={class:"text-sm text-gray-600 mb-3"},ee={class:"flex justify-between items-center text-sm text-gray-500"},te={key:0},se={class:"flex justify-between items-center mt-3 pt-3 border-t"},re={key:1,class:"text-center py-8 text-gray-500"},oe={key:2,class:"space-y-6"},ae={class:"bg-white rounded-lg border p-6"},le={class:"text-lg font-semibold text-gray-900 mb-4"},ne={class:"space-y-4"},ie={class:"flex justify-between items-start mb-2"},de={class:"font-semibold text-gray-900"},ue={class:"text-sm text-gray-600 mb-3"},ce={class:"flex justify-between items-center text-sm text-gray-500"},ge={key:0},xe={class:"flex justify-between items-center mt-3 pt-3 border-t"},me={key:2,class:"text-gray-400 text-sm"},_e={__name:"ProjectDetails",props:{project:Object,tasks:Array},setup(r){const N=P(),v=f(()=>N.props.auth.user),h=f(()=>{var l;return(l=v.value.role_name)==null?void 0:l.toLowerCase()}),m=r,d=C("overview"),j=f(()=>m.project.current_stage==="completed"?!1:h.value==="product_manager"&&m.project.current_stage==="product"||h.value==="design_manager"&&m.project.current_stage==="design"||h.value==="development_manager"&&m.project.current_stage==="development");f(()=>m.tasks.filter(l=>l.stage===m.project.current_stage));const _=f(()=>m.tasks.filter(l=>l.assigned_to===v.value.id));return(l,s)=>(a(),p(V,null,{default:i(()=>[e("div",$,[e("nav",A,[y(u(c),{href:l.route("dashboard"),class:"hover:text-gray-700"},{default:i(()=>[...s[3]||(s[3]=[g("Dashboard",-1)])]),_:1},8,["href"]),s[5]||(s[5]=e("span",null,"→",-1)),y(u(c),{href:l.route("projects.index"),class:"hover:text-gray-700"},{default:i(()=>[...s[4]||(s[4]=[g("Projects",-1)])]),_:1},8,["href"]),s[6]||(s[6]=e("span",null,"→",-1)),e("span",B,o(r.project.name),1)]),e("div",S,[e("div",U,[e("div",E,[e("div",F,[e("h1",L,o(r.project.name),1),e("span",{class:b(["px-3 py-1 rounded-full text-sm font-medium capitalize",{"bg-yellow-100 text-yellow-800":r.project.current_stage==="product","bg-purple-100 text-purple-800":r.project.current_stage==="design","bg-green-100 text-green-800":r.project.current_stage==="development","bg-gray-100 text-gray-800":r.project.current_stage==="completed"}])},o(r.project.current_stage)+" Stage ",3)]),e("p",M,o(r.project.description||"No description provided."),1)]),e("div",O,[j.value?(a(),p(u(c),{key:0,href:l.route("tasks.create",r.project.id),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm text-center"},{default:i(()=>[...s[7]||(s[7]=[g(" Add Task to Project ",-1)])]),_:1},8,["href"])):x("",!0),y(u(c),{href:l.route("projects.index"),class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition text-sm text-center"},{default:i(()=>[...s[8]||(s[8]=[g(" Back to Projects ",-1)])]),_:1},8,["href"])])])]),y(D,{project:r.project},null,8,["project"]),e("div",I,[e("nav",q,[e("button",{onClick:s[0]||(s[0]=t=>d.value="overview"),class:b(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",d.value==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"])}," Overview ",2),e("button",{onClick:s[1]||(s[1]=t=>d.value="tasks"),class:b(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",d.value==="tasks"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"])}," Project Tasks ("+o(r.tasks.length)+") ",3),_.value.length>0?(a(),n("button",{key:0,onClick:s[2]||(s[2]=t=>d.value="my-tasks"),class:b(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",d.value==="my-tasks"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"])}," My Tasks ("+o(_.value.length)+") ",3)):x("",!0)])]),e("div",null,[d.value==="overview"?(a(),n("div",G,[y(z,{project:r.project},null,8,["project"])])):x("",!0),d.value==="tasks"?(a(),n("div",H,[e("div",J,[e("h2",K," All Project Tasks ("+o(r.tasks.length)+") ",1),r.tasks.length?(a(),n("div",Q,[(a(!0),n(k,null,T(r.tasks,t=>{var w;return a(),n("div",{key:t.id,class:"border rounded-lg p-4 hover:bg-gray-50 transition"},[e("div",R,[e("h3",W,o(t.title),1),e("div",X,[e("span",{class:b(["px-2 py-1 rounded text-xs font-medium capitalize",{"bg-gray-100 text-gray-800":t.status==="not_started","bg-yellow-100 text-yellow-800":t.status==="in_progress","bg-blue-100 text-blue-800":t.status==="testing","bg-green-100 text-green-800":t.status==="complete"}])},o(t.status.replace("_"," ")),3),e("span",Y,o(t.stage),1)])]),e("p",Z,o(t.description||"No description"),1),e("div",ee,[e("span",null,"Assigned to: "+o(((w=t.assignee)==null?void 0:w.name)||"Unassigned"),1),t.due_date?(a(),n("span",te,"Due: "+o(t.due_date),1)):x("",!0)]),e("div",se,[t.assigned_to===v.value.id&&t.status!=="complete"?(a(),p(u(c),{key:0,href:l.route("tasks.edit",[r.project.id,t.id]),class:"text-blue-600 hover:text-blue-800 text-sm font-medium"},{default:i(()=>[...s[9]||(s[9]=[g(" Update Status ",-1)])]),_:1},8,["href"])):x("",!0),y(u(c),{href:l.route("tasks.edit",[r.project.id,t.id]),class:"text-gray-600 hover:text-gray-800 text-sm"},{default:i(()=>[...s[10]||(s[10]=[g(" View Details ",-1)])]),_:1},8,["href"])])])}),128))])):(a(),n("div",re,[s[12]||(s[12]=e("p",null,"No tasks created for this project yet.",-1)),j.value?(a(),p(u(c),{key:0,href:l.route("tasks.create",r.project.id),class:"mt-2 inline-block text-blue-600 hover:text-blue-800 text-sm font-medium"},{default:i(()=>[...s[11]||(s[11]=[g(" Create first task ",-1)])]),_:1},8,["href"])):x("",!0)]))])])):x("",!0),d.value==="my-tasks"?(a(),n("div",oe,[e("div",ae,[e("h2",le," My Tasks in This Project ("+o(_.value.length)+") ",1),e("div",ne,[(a(!0),n(k,null,T(_.value,t=>(a(),n("div",{key:t.id,class:"border rounded-lg p-4 hover:bg-gray-50 transition"},[e("div",ie,[e("h3",de,o(t.title),1),e("span",{class:b(["px-2 py-1 rounded text-xs font-medium capitalize",{"bg-gray-100 text-gray-800":t.status==="not_started","bg-yellow-100 text-yellow-800":t.status==="in_progress","bg-blue-100 text-blue-800":t.status==="testing","bg-green-100 text-green-800":t.status==="complete"}])},o(t.status.replace("_"," ")),3)]),e("p",ue,o(t.description||"No description"),1),e("div",ce,[e("span",null,"Stage: "+o(t.stage),1),t.due_date?(a(),n("span",ge,"Due: "+o(t.due_date),1)):x("",!0)]),e("div",xe,[t.assigned_to===v.value.id?(a(),p(u(c),{key:0,href:l.route("tasks.edit",[r.project.id,t.id]),class:"text-blue-600 hover:text-blue-800 text-sm font-medium"},{default:i(()=>[g(o(t.status==="complete"?"View Details":"Update Task"),1)]),_:2},1032,["href"])):["product_manager","design_manager","development_manager"].includes(h.value)?(a(),p(u(c),{key:1,href:l.route("tasks.edit",[r.project.id,t.id]),class:"text-gray-600 hover:text-gray-800 text-sm"},{default:i(()=>[...s[13]||(s[13]=[g(" Edit Task ",-1)])]),_:1},8,["href"])):(a(),n("span",me,"Not assigned to you"))])]))),128))])])])):x("",!0)])])]),_:1}))}};export{_e as default};
