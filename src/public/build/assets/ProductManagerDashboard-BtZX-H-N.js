import{s as z,j as u,g as l,o as r,a as w,d as g,h as A,w as h,b as t,i as n,c as _,l as k,f as j,t as a,F as y,r as P,q as F,n as C}from"./app-M6YtPai2.js";import{_ as L}from"./AuthenticatedLayout-ugVWsiRb.js";import{f as M}from"./formatDate-BykdDrlu.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-CLNVdqZw.js";const I={class:"space-y-6"},R={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},$={class:"flex gap-3"},q={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6"},E={key:0,class:"bg-white p-4 sm:p-6 rounded-lg shadow-sm border border-yellow-200"},G={class:"flex items-center justify-between"},U={class:"text-2xl font-bold text-yellow-600"},J={key:1,class:"bg-white p-4 sm:p-6 rounded-lg shadow-sm border border-green-200"},K={class:"flex items-center justify-between"},O={class:"text-2xl font-bold text-green-600"},Q={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},W={key:0,class:"bg-white rounded-lg shadow-sm border"},X={class:"p-4 sm:p-6 border-b flex justify-between items-center"},Y={class:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full"},Z={class:"divide-y"},tt={class:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2"},et={class:"flex-1"},st={class:"font-medium text-gray-900 text-sm sm:text-base"},ot={class:"text-sm text-gray-600 mt-1 line-clamp-2"},rt={class:"text-xs text-gray-500 whitespace-nowrap"},at={class:"mt-3 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2"},lt={class:"flex items-center space-x-2"},nt={class:"w-20 sm:w-24 bg-gray-200 rounded-full h-2"},it={class:"text-xs text-gray-600 whitespace-nowrap"},dt={class:"flex justify-end"},ct={key:1,class:"bg-white rounded-lg shadow-sm border"},ut={class:"p-4 sm:p-6 border-b flex justify-between items-center"},gt={class:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full"},mt={class:"divide-y"},xt={class:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2"},pt={class:"flex-1"},ft={class:"font-medium text-gray-900 text-sm sm:text-base"},ht={key:0,class:"text-sm text-gray-600 mt-1"},yt={class:"mt-2 flex flex-col xs:flex-row justify-between items-start xs:items-center gap-1"},bt={class:"text-sm text-gray-600"},vt={key:0,class:"text-xs text-gray-500 whitespace-nowrap"},wt={key:2,class:"col-span-2"},_t={class:"bg-white rounded-lg shadow-sm border p-8 text-center"},kt={__name:"ProductManagerDashboard",props:{projects:Array,tasks:Array},setup(i){const x=i,S=z(),B=u(()=>S.props.auth.user),b=u(()=>{var s;return(s=B.value.role_name)==null?void 0:s.toLowerCase()}),p=u(()=>x.tasks.filter(s=>s.status==="in_progress"||s.status==="not_started").length),f=u(()=>x.projects.filter(s=>m(s)===100).length),N=u(()=>x.projects.length>0||p.value>0||f.value>0),m=s=>{var c;const e=((c=s.tasks)==null?void 0:c.filter(d=>d.stage===s.current_stage))||[];if(e.length===0)return 0;const o=e.filter(d=>d.status==="complete").length;return Math.round(o/e.length*100)},v=s=>{const e=m(s);return e===100?"ready":e>0?"in progress":"not started"},D=s=>{const e=v(s);return{ready:"bg-green-100 text-green-800","in progress":"bg-yellow-100 text-yellow-800","not started":"bg-gray-100 text-gray-800"}[e]||"bg-gray-100 text-gray-800"},V=s=>({not_started:"bg-gray-100 text-gray-800",in_progress:"bg-yellow-100 text-yellow-800",complete:"bg-green-100 text-green-800"})[s]||"bg-gray-100 text-gray-800",T=s=>({not_started:"Not Started",in_progress:"In Progress",complete:"Complete"})[s]||s;return(s,e)=>(r(),l(y,null,[w(g(A),{title:"Product Manager Dashboard"}),w(L,null,{default:h(()=>[t("div",I,[t("div",R,[e[1]||(e[1]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900"},"Product Development Dashboard"),t("p",{class:"text-gray-600"},"Manage product stage projects and tasks")],-1)),t("div",$,[b.value==="product_manager"?(r(),_(g(k),{key:0,href:s.route("projects.create"),class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"},{default:h(()=>[...e[0]||(e[0]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),j(" New Project ",-1)])]),_:1},8,["href"])):n("",!0)])]),N.value?(r(),l("div",q,[p.value>0?(r(),l("div",E,[t("div",G,[t("div",null,[e[2]||(e[2]=t("p",{class:"text-sm font-medium text-gray-600"},"Active Tasks",-1)),t("p",U,a(p.value),1)]),e[3]||(e[3]=t("div",{class:"p-2 sm:p-3 bg-yellow-100 rounded-full"},[t("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1))])])):n("",!0),f.value>0?(r(),l("div",J,[t("div",K,[t("div",null,[e[4]||(e[4]=t("p",{class:"text-sm font-medium text-gray-600"},"Ready for Next Stage",-1)),t("p",O,a(f.value),1)]),e[5]||(e[5]=t("div",{class:"p-2 sm:p-3 bg-green-100 rounded-full"},[t("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1))])])):n("",!0)])):n("",!0),t("div",Q,[i.projects.length>0?(r(),l("div",W,[t("div",X,[e[6]||(e[6]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Product Stage Projects",-1)),t("span",Y,a(i.projects.length)+" projects ",1)]),t("div",Z,[(r(!0),l(y,null,P(i.projects,o=>(r(),l("div",{key:o.id,class:"p-4 sm:p-6 hover:bg-gray-50 transition-colors"},[t("div",tt,[t("div",et,[t("h3",st,a(o.name),1),t("p",ot,a(o.description),1)]),t("span",rt,a(g(M)(o.created_at)),1)]),t("div",at,[t("div",lt,[e[7]||(e[7]=t("span",{class:"text-sm text-gray-600 hidden xs:inline"},"Progress:",-1)),t("div",nt,[t("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:F(`width: ${m(o)}%`)},null,4)]),t("span",it,a(m(o))+"%",1)]),t("div",dt,[t("span",{class:C([D(o),"text-xs px-2 py-1 rounded-full capitalize"])},a(v(o)),3)])])]))),128))])])):n("",!0),i.tasks.length>0?(r(),l("div",ct,[t("div",ut,[e[8]||(e[8]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Recent Product Tasks",-1)),t("span",gt,a(i.tasks.length)+" tasks ",1)]),t("div",mt,[(r(!0),l(y,null,P(i.tasks,o=>{var c,d;return r(),l("div",{key:o.id,class:"p-4 sm:p-6 hover:bg-gray-50 transition-colors"},[t("div",xt,[t("div",pt,[t("h3",ft,a(o.title),1),(c=o.project)!=null&&c.name?(r(),l("p",ht," Project: "+a(o.project.name),1)):n("",!0)]),t("span",{class:C([V(o.status),"text-xs px-2 py-1 rounded-full whitespace-nowrap mt-1 sm:mt-0"])},a(T(o.status)),3)]),t("div",yt,[t("span",bt," Assigned to: "+a(((d=o.assignee)==null?void 0:d.name)||"Unassigned"),1),o.due_date?(r(),l("span",vt," Due: "+a(g(M)(o.due_date)),1)):n("",!0)])])}),128))])])):n("",!0),i.projects.length===0&&i.tasks.length===0?(r(),l("div",wt,[t("div",_t,[e[10]||(e[10]=t("svg",{class:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e[11]||(e[11]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No projects or tasks yet",-1)),e[12]||(e[12]=t("p",{class:"text-gray-600 mb-4"},"Get started by creating your first project",-1)),b.value==="product_manager"?(r(),_(g(k),{key:0,href:s.route("projects.create"),class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"},{default:h(()=>[...e[9]||(e[9]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),j(" Create First Project ",-1)])]),_:1},8,["href"])):n("",!0)])])):n("",!0)])])]),_:1})],64))}},Bt=H(kt,[["__scopeId","data-v-5fdb1043"]]);export{Bt as default};
